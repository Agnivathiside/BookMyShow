<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/27.0.9 Chrome/134.0.6998.205 Electron/35.4.0 Safari/537.36" version="27.0.9">
  <diagram id="optB_dark_arrows" name="BookMyShow - Dark Mode (Bright Arrows)">
    <mxGraphModel dx="10184" dy="7101" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ui" value="Frontend&#xa;(Appsmith / React)" style="rounded=1;fillColor=#3A4A5A;fontSize=12;fontColor=#F5F5F5;strokeColor=#93C5FD;" parent="1" vertex="1">
          <mxGeometry x="340" y="20" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gateway" value="API Gateway&#xa;(Spring Cloud Gateway / Ingress)" style="rounded=1;fillColor=#5A4A3A;fontSize=12;fontColor=#F5F5F5;strokeColor=#FCD34D;" parent="1" vertex="1">
          <mxGeometry x="320" y="100" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="auth" value="Auth Service&#xa;(Keycloak / Spring Auth)" style="rounded=1;fillColor=#234A34;fontSize=12;fontColor=#F5F5F5;strokeColor=#4ADE80;" parent="1" vertex="1">
          <mxGeometry x="20" y="200" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="authdb" value="Postgres - Auth DB" style="shape=cylinder;fillColor=#4B3A28;fontSize=11;fontColor=#F5F5F5;strokeColor=#FBBF24;" parent="1" vertex="1">
          <mxGeometry x="20" y="280" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="movie" value="Movie Service&#xa;(Postgres)" style="rounded=1;fillColor=#1E3A5F;fontSize=12;fontColor=#F5F5F5;strokeColor=#60A5FA;" parent="1" vertex="1">
          <mxGeometry x="220" y="200" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="moviedb" value="Postgres - Movies" style="shape=cylinder;fillColor=#1E3A5F;fontSize=11;fontColor=#F5F5F5;strokeColor=#60A5FA;" parent="1" vertex="1">
          <mxGeometry x="220" y="280" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="theatre" value="Theatre Service&#xa;(Postgres, seat_map)" style="rounded=1;fillColor=#5A3219;fontSize=12;fontColor=#F5F5F5;strokeColor=#FB923C;" parent="1" vertex="1">
          <mxGeometry x="420" y="200" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="theatredb" value="Postgres - Theatres" style="shape=cylinder;fillColor=#5A3219;fontSize=11;fontColor=#F5F5F5;strokeColor=#FB923C;" parent="1" vertex="1">
          <mxGeometry x="420" y="280" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="showtime" value="Showtime Service&#xa;(Postgres - Shows)" style="rounded=1;fillColor=#1B4D44;fontSize=12;fontColor=#F5F5F5;strokeColor=#34D399;" parent="1" vertex="1">
          <mxGeometry x="620" y="200" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="showtimedb" value="Postgres - Shows" style="shape=cylinder;fillColor=#1B4D44;fontSize=11;fontColor=#F5F5F5;strokeColor=#34D399;" parent="1" vertex="1">
          <mxGeometry x="620" y="280" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="booking" value="Booking Service&#xa;(Saga Orchestrator)&#xa;Postgres + Redis" style="rounded=1;fillColor=#5C1F1F;fontSize=12;fontColor=#F5F5F5;strokeColor=#F87171;" parent="1" vertex="1">
          <mxGeometry x="120" y="360" width="220" height="100" as="geometry" />
        </mxCell>
        <mxCell id="bookingdb" value="Postgres - Bookings" style="shape=cylinder;fillColor=#5C1F1F;fontSize=11;fontColor=#F5F5F5;strokeColor=#F87171;" parent="1" vertex="1">
          <mxGeometry x="120" y="470" width="100" height="36" as="geometry" />
        </mxCell>
        <mxCell id="redis" value="Redis&#xa;(Seat Locks, TTL, Lua)" style="shape=hexagon;fillColor=#7F1D1D;fontSize=11;fontColor=#F5F5F5;strokeColor=#FCA5A5;" parent="1" vertex="1">
          <mxGeometry x="240" y="470" width="100" height="36" as="geometry" />
        </mxCell>
        <mxCell id="payment" value="Payment Service&#xa;(Mock Gateway)&#xa;(Postgres)" style="rounded=1;fillColor=#083344;fontSize=12;fontColor=#F5F5F5;strokeColor=#67E8F9;" parent="1" vertex="1">
          <mxGeometry x="380" y="360" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="paymentdb" value="Postgres - Payments" style="shape=cylinder;fillColor=#083344;fontSize=11;fontColor=#F5F5F5;strokeColor=#67E8F9;" parent="1" vertex="1">
          <mxGeometry x="380" y="470" width="100" height="36" as="geometry" />
        </mxCell>
        <mxCell id="notification" value="Notification Service&#xa;(Email/SMS/Push)" style="rounded=1;fillColor=#5A4A33;fontSize=12;fontColor=#F5F5F5;strokeColor=#FCD34D;" parent="1" vertex="1">
          <mxGeometry x="640" y="360" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="search" value="Search Service&#xa;(Elasticsearch)" style="rounded=1;fillColor=#3B3160;fontSize=12;fontColor=#F5F5F5;strokeColor=#C4B5FD;" parent="1" vertex="1">
          <mxGeometry x="860" y="200" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="es" value="Elasticsearch" style="shape=cylinder;fillColor=#3B3160;fontSize=11;fontColor=#F5F5F5;strokeColor=#C4B5FD;" parent="1" vertex="1">
          <mxGeometry x="860" y="280" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="recommend" value="Recommendation Service&#xa;(Optional - ML)" style="rounded=1;fillColor=#1E3A5F;fontSize=12;fontColor=#F5F5F5;strokeColor=#60A5FA;" parent="1" vertex="1">
          <mxGeometry x="860" y="360" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="audit" value="Audit Service&#xa;(Consumes all events)&#xa;(Postgres)" style="rounded=1;fillColor=#4A3725;fontSize=12;fontColor=#F5F5F5;strokeColor=#FBBF24;" parent="1" vertex="1">
          <mxGeometry x="660" y="480" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="auditdb" value="Postgres - Audit" style="shape=cylinder;fillColor=#4A3725;fontSize=11;fontColor=#F5F5F5;strokeColor=#FBBF24;" parent="1" vertex="1">
          <mxGeometry x="660" y="570" width="140" height="36" as="geometry" />
        </mxCell>
        <mxCell id="kafka" value="Kafka Cluster&#xa;(booking-events, payment-events,&#xa;seat-lock-events, notification-events, audit-events)" style="rounded=1;fillColor=#374151;fontSize=12;fontColor=#F5F5F5;strokeColor=#9CA3AF;" parent="1" vertex="1">
          <mxGeometry x="340" y="580" width="420" height="100" as="geometry" />
        </mxCell>
        <mxCell id="prom" value="Prometheus" style="rounded=1;fillColor=#3A4C2F;fontSize=11;fontColor=#F5F5F5;strokeColor=#84CC16;" parent="1" vertex="1">
          <mxGeometry x="20" y="600" width="120" height="36" as="geometry" />
        </mxCell>
        <mxCell id="graf" value="Grafana" style="rounded=1;fillColor=#4A341F;fontSize=11;fontColor=#F5F5F5;strokeColor=#FB923C;" parent="1" vertex="1">
          <mxGeometry x="160" y="600" width="120" height="36" as="geometry" />
        </mxCell>
        <mxCell id="zipkin" value="Zipkin / Jaeger" style="rounded=1;fillColor=#1E3A5F;fontSize=11;fontColor=#F5F5F5;strokeColor=#60A5FA;" parent="1" vertex="1">
          <mxGeometry x="300" y="600" width="120" height="36" as="geometry" />
        </mxCell>
        <mxCell id="elk" value="ELK Stack" style="rounded=1;fillColor=#3B3160;fontSize=11;fontColor=#F5F5F5;strokeColor=#C4B5FD;" parent="1" vertex="1">
          <mxGeometry x="440" y="600" width="160" height="36" as="geometry" />
        </mxCell>
        <mxCell id="e1" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;fontColor=#F5F5F5;" parent="1" source="ui" target="gateway" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="gateway" target="auth" edge="1" />
        <mxCell id="e3" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="gateway" target="movie" edge="1" />
        <mxCell id="e4" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="gateway" target="theatre" edge="1" />
        <mxCell id="e5" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="gateway" target="showtime" edge="1" />
        <mxCell id="e6" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="gateway" target="booking" edge="1" />
        <mxCell id="e7" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="gateway" target="payment" edge="1" />
        <mxCell id="e8" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="booking" target="bookingdb" edge="1" />
        <mxCell id="e9" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="booking" target="redis" edge="1" />
        <mxCell id="e10" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;dashed=1;" parent="1" source="booking" target="kafka" edge="1" />
        <mxCell id="e11" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;dashed=1;" parent="1" source="payment" target="kafka" edge="1" />
        <mxCell id="e12" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;dashed=1;" parent="1" source="kafka" target="notification" edge="1" />
        <mxCell id="e13" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;dashed=1;" parent="1" source="kafka" target="audit" edge="1" />
        <mxCell id="e14" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;dashed=1;" parent="1" source="movie" target="es" edge="1" />
        <mxCell id="e15" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="showtime" target="booking" edge="1" />
        <mxCell id="e16" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="theatre" target="showtime" edge="1" />
        <mxCell id="e17" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="auth" target="authdb" edge="1" />
        <mxCell id="e18" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="movie" target="moviedb" edge="1" />
        <mxCell id="e19" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="theatre" target="theatredb" edge="1" />
        <mxCell id="e20" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="showtime" target="showtimedb" edge="1" />
        <mxCell id="e21" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="payment" target="paymentdb" edge="1" />
        <mxCell id="e22" style="edgeStyle=orthogonalEdgeStyle;strokeColor=#FFFFFF;" parent="1" source="audit" target="auditdb" edge="1" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
